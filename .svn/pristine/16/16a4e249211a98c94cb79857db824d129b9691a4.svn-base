<%@ page language="java" contentType="text/html; charset=UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<!DOCTYPE html>
<html>
<head>
<script type="text/javascript" src="/resources/js/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<title>통계</title>
<style>
</style>
</head>
<body>
<!-- ========================= 지윤서  ========================= -->
<div>
  <canvas id="myChart1"></canvas>
  <input type="button" value="누르면데이터바꿔" id="modify-btn"/>
</div>
<!-- ========================= 지윤서  ========================= -->

<!-- ========================= 오다영  ========================= -->
<div>
  <canvas id="myChart2"></canvas>
</div>
<!-- ========================= 오다영  ========================= -->
<script>
// ========================= 지윤서 =========================
var ctx1 = document.getElementById('myChart1');

var myChart1 = new Chart(ctx1, {
	type : 'bar',
	data : {
		labels : [ 'Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange' ],
		datasets : [ {
			label : '# of Votes',
			data : [ 12, 19, 3, 5, 2, 3 ],
			borderWidth : 1
		} ]
	},
	options : {
		scales : {
			y : {
				beginAtZero : true
			}
		}
	}
});

var modifyBtn = document.getElementById('modify-btn');
modifyBtn.addEventListener('click',function(){
	// 차트 객체에서 데이터에 접근하여 로그에 출력
    console.log(myChart1.data); // 차트의 데이터
    console.log(myChart1.data.datasets[0].data); // 데이터셋의 데이터 배열
    
    myChart1.data.datasets[0].data[0] = 1;
    myChart1.data.datasets[0].data[1] = 2;
    myChart1.data.datasets[0].data[2] = 3;
    myChart1.data.datasets[0].data[3] = 4;
    myChart1.data.datasets[0].data[4] = 5;
    myChart1.data.datasets[0].data[5] = 6;
    
    myChart1.data.datasets[0].label = "득표수";
    
    myChart1.data.labels[0] = "빨강색";
    myChart1.data.labels[2] = "노랑색";
    myChart1.data.labels[4] = "보라색";
    
    
    myChart1.update();
});

// ========================= 지윤서 =========================
	
// ========================= 오다영 =========================
var ctx2 = document.getElementById('myChart2');

new Chart(ctx2, {
	type : 'bar',
	data : {
		labels : [ 'Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange' ],
		datasets : [ {
			label : '# of Votes',
			data : [ 12, 19, 3, 5, 2, 3 ],
			borderWidth : 1
		} ]
	},
	options : {
		scales : {
			y : {
				beginAtZero : true
			}
		}
	}
});
//========================= 오다영 =========================
</script>
</body>
</html>