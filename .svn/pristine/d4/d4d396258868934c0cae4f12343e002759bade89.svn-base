<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ taglib prefix="sec" uri="http://www.springframework.org/security/tags" %>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions"%>
<style>
.dduk-title-area {
	margin-top: -10px;
	margin-bottom : 0px;
}

.h1-default {
	display:hidden;
	text-align: center;
	width: 100%;
	margin-top: 300px;
	color: #8D9EA5 !important;
	font-size: 2.5em !important;
}
.info-input{
	height: 32px;
	margin-bottom: 45px;
	width: 180px;
}

.patient-info-div{
	gap: 18px;
	margin: 0px 10px 0px 10px;
	display: flex;
	flex-wrap: wrap;
}
.patient-info-left{
	text-align: right;
	width: 80px;
}
.patient-info-right{
	text-align: left;
	width: 180px;
}

.reception-center-div {
	height: 416px;
	width: 666px;
	margin-top: 30px;
}

.search{
	width: 292px;
	height: 48px;
}

.search-btn {
	margin-left:8px; 
	padding: 4px 14px; 
	border-radius: 12px; 
	height: 38px;
}

.search-btn:hover {
	background: var(--ci-01, #0ABAB5);
}

#searchPatientBtn {
	background-color: transparent;
    position: absolute;
    top: 906px;
    left: 510px;
}

.autocomplete {
	position: absolute;
}

.autocomplete > div.active {
  background: #e0e5f6;
  color: #000;
}

.autocomplete > div {
  background: #f1f3f499;
  padding: .2rem .6rem;
}

.in-h2{
	width:20%;
}

/* 오더추가 시작 */
.rounds-table{
	width: 100%;
}
.td-padding {
    padding: 10px 0px 10px 5px;
}
.tr-column {
    background: #F8F9FC;
}
.medicine-order-day, .medicine-order-per, .medicine-order-dose {
	width: 20px;
	height: 20px;
	margin-right: 5px;
}
.medicine-order-qt {
	width: 25px;
	height: 20px;
	margin-right: 5px;
}
input[type=number] {
  -moz-appearance: textfield;
}
/* 오더추가 끝 */

/* 진단명 */
.clinic-history {
	resize: none;
	width: 50%;
	height: 50px;
}

.textarea-clinic-history-opinion {
	resize: none;
	width: 90%;
	height: 150px;
}


</style>

<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/themes/default/style.min.css" />

<div class="dduk-body-border patient-list">
	<div>
		<div class="dduk-title-area">
			<h2>대기환자 목록</h2>
		</div>
		<div class="dduk-x-pd8">
			<table class="patient-list-table" id="waitingQueue" style="text-align: center">
								<thead>
						<tr class="tr-padding">
							<th class="td-padding gray-text" style="width:40px;">No</th>
							<th class="td-padding gray-text paName" style="width:120px;">이름</th>
							<th class="td-padding gray-text">생년월일</th>
						</tr>
					</thead>
					
					<tbody id="patientTbody">
						<c:forEach var="patient" items="${patientVOList}" varStatus="status">
							<tr class="tr-padding tr-paInfo" data-paNo="${patient.paNo}">
								<td class="td-padding">
									${status.count}
								</td>
								<td height="48px" class="td-padding">
									<c:choose>
								        <c:when test="${fn:length(patient.paName) gt 9}">
								        <c:out value="${fn:substring(patient.paName, 0, 7)}">
								        </c:out>...</c:when>
								        <c:otherwise>
								        <c:out value="${patient.paName}">
								        </c:out></c:otherwise>
									</c:choose>
								</td>
								<td class="td-padding">
									<c:choose>
								        <c:when test="${fn:substring(patient.paReg, 0, 1) gt 0}">
								        19<c:out value="${fn:substring(patient.paReg, 0, 2)}">
								        </c:out></c:when>
								        <c:otherwise>
								        20<c:out value="${fn:substring(patient.paReg, 0, 2)}">
								        </c:out></c:otherwise>
									</c:choose>
									-${fn:substring(patient.paReg, 2, 4)}-${fn:substring(patient.paReg, 4, 6)}
								</td>
							</tr>
						</c:forEach>
					</tbody>
				</table>
			</div>	
		</div>
		<input id="searchPatient" class="search dduck-input" placeholder="환자 이름을 검색해주세요">
		<button id="searchPatientBtn"><img src="/resources/images/Search.png"></button>
		<div class="autocomplete"></div>
	</div>
	
	<div class="dduk-body-border patient-detail" style="width: 700px; position: relative;">
		<div class="dduk-title-area" style="margin-bottom: -20px;">
			<div class="d-flex align-items-center">
				<h2 id="in-h2">차트</h2>
				<span id="paInfo" class="gray-text mar-b-8 mar-l-8"></span>
			</div>
		</div>
		<hr style="width: 670px;">
		<div>
			<div>
				<div class="dduk-title-area">
					<h2>환자 정보</h2>
				</div>
				<div class="dduk-inner-border ">
					<div class="patient-info-div">
						<div class="dduk-row" style="width: 600px;">
							<h3 class="in-h2">환자번호 : </h3>
							<h3 class="in-h2">이름 : </h3>
							<h3 class="in-h2">성별 : </h3>
							<h3 class="in-h2">나이 : </h3>
						</div>
						<div class="dduk-row" style="width: 600px;">
							<h3 class="in-h2">키 : </h3>
							<h3 class="in-h2">몸무게 : </h3>
							<h3 class="in-h2">체온 : </h3>
							<h3 class="in-h2">보험여부 : </h3>
						</div>
					</div>
				</div>
			</div>
			<div class="reception-center-div">
				<div class="dduk-title-area">
					<h2>진단 내역</h2>
				</div>
				<div class="dduk-inner-border" style="height: 457px;">
				<h3 class="subTitle-margin">진단명 </h3>
					<input type="text" class="dduck-input clinic-history" style="height: 40px;" readonly="readonly" />
				<h3 class="subTitle-margin">소견 </h3>
					<textarea class="dduck-input textarea-clinic-history-opinion" readonly="readonly"></textarea>
				<div class="d-flex">
					<h3 class="subTitle-margin">상병 </h3>
				</div>
				<table class="rounds-table medicine-order-table">
					<thead>
						<tr class="tr-padding tr-column">
							<th class="td-padding gray-text" style="width: 25%">약품명</th>
							<th class="td-padding gray-text" style="width: 30%">약품상세</th>
							<th class="td-padding gray-text" style="width: 30%">용법</th>
							<th class="td-padding gray-text" style="width: 15%">처방량</th>
						</tr>
					</thead>
					<tbody>
						<tr class="tr-padding tr-data">
							<td class="td-padding-data gray-text" style="padding: 1%">이부프로펜</td>
							<td class="td-padding-data gray-text">진자엄청아픈주사</td>
							<td class="td-padding-data gray-text">
								<input type="number" class="medicine-order-day">일 
								<input type="number" class="medicine-order-per">회 
								<input type="number" class="medicine-order-dose">정
							</td>
							<td class="td-padding-data gray-text">
								<input type="number" class="medicine-order-qt">일분
							</td>
						</tr>
					</tbody>
				</table>
				<div class="d-flex">
					<h3 class="subTitle-margin">오더 </h3>
				</div>
					<div><h4>검사</h4></div>
				<table class="rounds-table test-order-table">
					<thead>
						<tr class="tr-padding tr-column">
							<th class="td-padding gray-text" style="width: 25%">검사명</th>
							<th class="td-padding gray-text" style="width: 60%">검사결과</th>
							<th class="td-padding gray-text" style="width: 15%">환부</th>
						</tr>
					</thead>
					<tbody>
						<tr class="tr-padding tr-data">
							<td class="td-padding-data gray-text" style="padding: 1%">진짜개아픈검사</td>
							<td class="td-padding-data gray-text">진짜몸에큰일이났음</td>
							<td class="td-padding-data gray-text">발바닥</td>
						</tr>
						<tr class="tr-padding tr-data">
							<td class="td-padding-data gray-text" style="padding: 1%">개재밌는검사</td>
							<td class="td-padding-data gray-text">괜츊함</td>
							<td class="td-padding-data gray-text">동공</td>
						</tr>
					</tbody>
				</table>
				
				<br><br>
				
				
			</div>
			</div>
			
		</div>
		
	</div>
	
	<div class="gap-ver-16">
	<div class="dduk-body-border patient-note" style="width: 550px; height:50%; position: relative;">
		<div class="dduk-title-area" style="margin-bottom: -20px;">
			<div class="d-flex align-items-center">
				<h2 id="in-h2">검사 내역</h2>
				<span id="paInfo" class="gray-text mar-b-8 mar-l-8"></span>
			</div>
		</div>
		<hr style="width: 500px;">
		<table class="rounds-table test-order-table">
			<thead>
				<tr class="tr-padding tr-column">
					<th class="td-padding gray-text" style="width: 25%">코드</th>
					<th class="td-padding gray-text" style="width: 60%">검사명</th>
					<th class="td-padding gray-text" style="width: 15%">결과</th>
				</tr>
			</thead>
			<tbody>
				<tr class="tr-padding tr-data">
					<td class="td-padding-data gray-text" style="padding: 1%">진짜개아픈검사</td>
					<td class="td-padding-data gray-text">진짜몸에큰일이났음</td>
					<td class="td-padding-data gray-text">발바닥</td>
				</tr>
				<tr class="tr-padding tr-data">
					<td class="td-padding-data gray-text" style="padding: 1%">개재밌는검사</td>
					<td class="td-padding-data gray-text">괜츊함</td>
					<td class="td-padding-data gray-text">동공</td>
				</tr>
			</tbody>
		</table>
	</div>
	<div class="dduk-inner-border patient-note" style="width: 550px; height:50%; position: relative;">
		<div class="dduk-title-area" style="margin-bottom: -20px;">
			<div class="d-flex align-items-center">
				<h2 id="in-h2">QR코드</h2>
				<span id="paInfo" class="gray-text mar-b-8 mar-l-8"></span>
			</div>
		</div>
		<hr style="width: 500px;">
		<div class="dduk-row">
			<div class="dduk-inner-border" style="width:300px; height: 300px;">
			</div>
			<div><button class="dduk-btn-normal" id="detailPatient" >생성</button>
			<button class="dduk-btn-normal" id="detailPatient" >출력</button></div>
		</div>
		
	</div>
	</div>
	
	<!-- 	환자 추가 모달	 -->
	<c:import url="../common/modal.jsp"></c:import>
