package kr.or.dduk.ams.service.impl;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import kr.or.dduk.ams.service.PayService;
import kr.or.dduk.mapper.PayMapper;
import kr.or.dduk.vo.PayVO;
import kr.or.dduk.vo.ReceiptVO;

@Service
public class PayServiceImpl implements PayService{
	
	@Autowired
	PayMapper payMapper;
	
	
	/**
	 * DB에서 수납 리스트를 모두 가져옴
	 * @return PayVOList 수납 리스트
	 */
	@Override
	public List<PayVO> getPayList(){
		return this.payMapper.getPayList();
	}
	
	
	/**
	 * DB에 수납 테이블과 영수증 테이블을 insert시킨다
	 * @param PayVO 수납VO
	 * @return result 결과
	 */
	@Override
	public int insertPay(PayVO payVO) {
		
		ReceiptVO receiptVO = new ReceiptVO();
		
		int result = 0;
		result += this.payMapper.insertReceipt(receiptVO);
		result += this.payMapper.insertPay(payVO);
		return result;
	}
}
